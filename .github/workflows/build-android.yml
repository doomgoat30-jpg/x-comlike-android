name: Build Godot Android APK

on:
  push:
      branches: [ "main" ]
        workflow_dispatch:

        jobs:
          build:
              runs-on: ubuntu-latest

                  steps:
                      - name: Checkout code
                            uses: actions/checkout@v3

                                - name: Set up Godot
                                      uses: firebelley/godot-export@v6
                                            with:
                                                    godot-version: 4.2.2
                                                            export-presets: |
                                                                      android
                                                                              cache: true

                                                                                  - name: Upload APK
                                                                                        uses: actions/upload-artifact@v3
                                                                                              with:
                                                                                                      name: XCOMlike-Android
                                                                                                              path: build/android/*.apk